

> KMS(Key Management Service)는 AWS 에서 암호화 키를 생성하고 관리하는 완전 관리형 서비스다. KMS 는 데이터를 암호화하고, 디지털 서명에 사용되며, 다양한 AWS 서비스와 통합되어 데이터 보호를 강화한다.

### 1. KMS의 주요 기능
- **암호화 키 관리**: AWS KMS는 CMK(Customer Master Key)를 생성하고 관리한다. 이 키는 데이터를 암호화하고 복호화하는 데 사용된다. 고객이 직접 관리하거나 AWS에서 관리할 수 있다.
- **대칭 및 비대칭 키 지원**: 대칭 키는 데이터를 암호화 및 복호화하는 데, 비대칭 키는 데이터 서명이나 암호화에 사용된다.
- **키 사용 정책**: IAM(Identity and Access Management)과 통합되어 키에 대한 세밀한 권한 제어가 가능하다. 특정 사용자나 서비스만 키를 사용할 수 있도록 설정할 수 있다.
- **FIPS 140-2 인증**: KMS는 FIPS 140-2 인증을 받은 암호화 모듈을 사용해 보안성을 보장한다.
- **CloudTrail 통합**: KMS는 AWS CloudTrail과 통합되어 모든 키 사용 로그를 기록해, 누가 언제 어떤 키를 사용했는지 추적할 수 있다.
- **키 로테이션**: KMS는 자동으로 키를 회전하여 보안을 강화할 수 있다. 회전 작업은 애플리케이션에 영향을 미치지 않는다.

### 2. KMS의 주요 구성 요소
- **Customer Master Key (CMK)**: CMK는 KMS의 기본 구성 요소로, 데이터 암호화 및 복호화에 사용되는 주요 키다. CMK는 AWS가 관리하거나, 고객이 직접 관리할 수 있다.
    - **AWS 관리형 CMK**: AWS가 자동으로 생성하고 관리하는 키다.
    - **고객 관리형 CMK**: 고객이 직접 생성하고 관리하는 키로, 정책 및 회전 설정을 사용자 정의할 수 있다.
- **데이터 키(Data Key)**: CMK를 이용해 생성되는 임시 키로, 대량의 데이터를 효율적으로 암호화하는 데 사용된다.
- **키 정책(Key Policy)**: KMS에서 CMK의 액세스를 제어하는 문서로, 어떤 사용자가 어떤 권한으로 키를 사용할 수 있는지 정의한다.

### 3. KMS 사용 사례
- **S3 데이터 암호화**: KMS는 Amazon S3와 통합되어 저장 데이터를 암호화하고 복호화할 수 있다.
- **RDS 데이터베이스 암호화**: KMS는 Amazon RDS와 통합되어 데이터베이스의 데이터를 자동으로 암호화 및 복호화한다.
- **EBS 볼륨 암호화**: KMS를 이용해 Amazon EBS 볼륨 데이터를 암호화할 수 있다.
- **Lambda 암호화 키 관리**: Lambda 함수에서 KMS를 사용해 환경 변수나 데이터를 안전하게 암호화하고 관리할 수 있다.
- **API 서명 및 검증**: KMS의 비대칭 키를 사용해 API 요청에 서명하고 이를 검증할 수 있다.

### 4. KMS 보안
- **하드웨어 보안 모듈(HSM)**: KMS는 FIPS 140-2 Level 3 인증을 받은 HSM을 사용해 키를 보호한다.
- **Key Material Import**: 고객이 직접 생성한 키 자료를 KMS로 가져와 사용하는 기능을 제공한다.
- **멀티 리전 키**: 동일한 키 자료를 여러 리전에 배포하여 재해 복구에 신속히 대응할 수 있다.

### 5. KMS의 장점
- **완전 관리형 서비스**: 별도의 하드웨어나 소프트웨어를 관리할 필요 없이 AWS가 암호화 인프라를 관리한다.
- **확장성**: 데이터 양에 관계없이 확장 가능하며, 다양한 AWS 서비스와 통합된다.
- **높은 보안성**: 최신 보안 표준을 준수해 고객의 데이터를 보호한다.
