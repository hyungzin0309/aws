> DynamoDB는 두 가지 유형의 인덱스를 제공한다.

## GSI (Global Secondary Index) - 전역 보조 인덱스
   - GSI는 DynamoDB 테이블에서 주 키(Primary Key) 외에 추가적인 쿼리 패턴을 지원하기 위해 사용된다. GSI는 다음과 같은 특징을 가진다.

### 다른 파티션 키 사용
- GSI는 테이블의 기본 파티션 키와 다른 파티션 키를 가질 수 있다. 이는 다른 속성(예: 테이블의 비주요 속성)을 기준으로 쿼리할 수 있는 유연성을 제공한다.
### 새로운 정렬 키 사용 가능
- GSI는 선택적으로 다른 정렬 키(Sort Key)를 정의할 수 있다. 이를 통해 주 테이블과는 다른 방식으로 데이터를 정렬하고 조회할 수 있다.
### 프로비저닝된 용량
- GSI는 별도의 프로비저닝된 읽기 및 쓰기 용량 단위를 가진다. 즉, GSI의 읽기/쓰기 성능은 기본 테이블과 독립적으로 설정할 수 있다.
### 잠재적인 일관성
- 기본 테이블과 다르게, GSI에서 데이터를 읽을 때는 기본적으로 **최종적 일관성(Eventually Consistent)**을 제공한다. 그러나, 필요에 따라 **강력한 일관성(Strongly Consistent)**을 사용할 수도 있다.
### 사용 사례
- 예를 들어, 테이블의 기본 파티션 키가 UserID인 경우, GSI를 사용하여 Email이나 OrderDate를 파티션 키로 설정하여 해당 필드로 쿼리를 실행할 수 있다.
- 특정 속성에 따라 데이터를 다른 순서로 정렬하고 조회해야 할 때 사용
- 예시
  - 주 테이블: Orders 테이블의 주 키가 OrderID(파티션 키)와 CustomerID(정렬 키)로 구성되어 있다고 가정
  - GSI: OrderDate를 파티션 키로, TotalAmount를 정렬 키로 하는 GSI를 생성하면, 고객이 주문한 날짜별로 주문을 조회하고, 총 금액에 따라 정렬할 수 있음
---
## LSI (Local Secondary Index) - 지역 보조 인덱스
   - LSI는 기본 테이블과 동일한 파티션 키를 공유하면서, 다른 정렬 키를 사용하여 쿼리할 수 있게 해준다. LSI는 다음과 같은 특징을 가진다.

### 같은 파티션 키
- LSI는 기본 테이블의 파티션 키와 동일한 파티션 키를 사용해야 한다. 즉, LSI는 파티션 키를 변경하지 않고도 다른 속성으로 데이터를 정렬할 수 있는 기능을 제공한다.
### 다른 정렬 키
- LSI는 기본 테이블과는 다른 정렬 키를 사용할 수 있다. 이를 통해 같은 파티션 내에서 데이터를 다양한 방법으로 정렬하고 조회할 수 있다.
### 동일한 용량 단위
- LSI는 기본 테이블과 동일한 프로비저닝된 용량 단위를 사용한다. 즉, LSI의 쓰기 용량은 기본 테이블의 쓰기 용량에 포함되며, 읽기 작업 또한 기본 테이블과 공유된다.

---

| **특징**         | **GSI (Global Secondary Index)** | **LSI (Local Secondary Index)** |
|------------------|----------------------------------|---------------------------------|
| **파티션 키**    | 기본 테이블과 다를 수 있음        | 기본 테이블과 동일해야 함       |
| **정렬 키**      | 선택적으로 다르게 설정 가능       | 다르게 설정 가능                |
| **용량 단위**    | 별도의 읽기/쓰기 용량 단위        | 기본 테이블과 공유              |
| **일관성**       | 기본적으로 최종적 일관성          | 강력한 일관성 지원              |
| **사용 사례**    | 다른 파티션 키로 다양한 쿼리      | 동일한 파티션 키로 다양한 정렬  |

