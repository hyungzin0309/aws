
> DynamoDB TTL 은 테이블 항목(Item)에 만료 시간을 설정하여, 지정된 시간이 지나면 자동으로 삭제되도록 하는 기능이다. TTL을 사용하면 오래된 데이터를 효율적으로 관리하고, 저장 공간을 절약할 수 있다. 특히, 로그 데이터나 세션 데이터와 같은 수명이 짧은 데이터의 관리를 자동화하는 데 유용하다.

### 1. TTL의 주요 개념

- **TTL 속성**: TTL은 테이블의 특정 속성에 UNIX 타임스탬프(초 단위로 표현된 날짜와 시간)를 저장하여, 항목이 만료되는 시간을 지정한다. 이 속성에 설정된 시간이 지나면 DynamoDB는 해당 항목을 자동으로 삭제한다.
- **자동 삭제**: TTL 시간이 지난 항목은 DynamoDB가 백그라운드에서 자동으로 삭제한다.

### 2. TTL 설정 및 작동 방식

- **TTL 속성 지정**: DynamoDB 테이블에서 TTL을 사용하려면, 테이블의 항목에 대해 TTL 속성을 지정해야 한다. 이 속성은 각 항목별로 다르게 설정할 수 있다.
- **TTL 활성화**: 테이블에 대해 TTL을 활성화하려면, AWS 관리 콘솔, AWS CLI, 또는 SDK를 통해 TTL을 설정할 속성을 선택하고 TTL 기능을 켜야 한다.
- **삭제 시점**: TTL 시간이 지나면 항목이 즉시 삭제되는 것은 아니며, 일정 시간 내에 삭제된다. DynamoDB는 백그라운드에서 주기적으로 TTL이 지난 항목을 스캔하고 삭제 작업을 수행한다.

### 3. TTL의 주요 사용 사례

- **세션 관리**: 웹 애플리케이션에서 사용자 세션 데이터를 세션이 만료된 후 삭제
- **로그 데이터 관리**: 일정 기간 후에 필요 없어지는 로그 데이터를 TTL을 통해 자동으로 삭제
- **임시 데이터**: 임시적으로 생성된 데이터(예: 이메일 인증 코드 등)의 유효 기간이 만료되면 자동으로 제거

### 4. etc

- **정확한 삭제 시간 보장 불가**: TTL이 지난 항목이 언제 삭제될지 정확하게 예측할 수 없다. DynamoDB는 백그라운드에서 최적의 시점에 삭제 작업을 수행한다.
- **DynamoDB Streams 통합**: TTL로 삭제된 항목도 DynamoDB Streams에 기록된다. 이를 통해 삭제된 항목에 대한 추가 처리를 할 수 있다.
