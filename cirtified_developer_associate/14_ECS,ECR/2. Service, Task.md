### 1. Task
- **정의**: **Task**는 ECS에서 하나 이상의 **컨테이너 인스턴스**를 실행하는 단위다. Task는 **Task Definition**을 기반으로 하며, 이 정의에 따라 애플리케이션의 컨테이너가 어떻게 배포되고 실행되는지를 결정한다.
- **사용 예시**: 예를 들어, 웹 서버와 데이터베이스 컨테이너를 하나의 Task로 정의하여, ECS에서 Task를 실행하면 이 두 컨테이너가 함께 배포되어 실행된다.
- **특징**:
    - **Task Definition**을 기반으로 하며, 이 정의에 따라 컨테이너 이미지, CPU, 메모리, 네트워크 설정 등이 결정된다.
    - 각 Task는 지정된 컨테이너를 실행하며, **Task 내의 컨테이너들은 상호작용**할 수 있다.
    - ECS에서 Task는 **클러스터 내에서** 실행된다. 클러스터는 Task를 실행할 수 있는 EC2 인스턴스나 Fargate 인프라를 포함한다.
    - Task는 **독립적으로 실행**되며, ECS 서비스 또는 수동으로 시작할 수 있다.
    - **Task 종료**: Task는 실행이 완료되거나 종료 조건을 만족하면 자동으로 중단될 수 있다.

### 2. Task Definition
- **정의**: **Task Definition**은 **Task의 구성**을 정의하는 템플릿이다. Task Definition은 하나 이상의 **컨테이너 구성**, **CPU 및 메모리 요구사항**, **네트워크 설정**, **볼륨** 등을 포함한다.
- **사용 예시**: 웹 서버 컨테이너와 연결된 데이터베이스 컨테이너가 포함된 Task Definition을 작성하여, 하나의 Task로 배포할 수 있다.
- **특징**:
    - **컨테이너 구성**: Task Definition에는 실행할 컨테이너 이미지, 환경 변수, 포트 매핑, 로깅 설정 등이 포함된다.
    - **리소스 할당**: 각 컨테이너에 할당될 **CPU** 및 **메모리** 리소스를 지정할 수 있다.
    - **네트워크 및 볼륨 설정**: Task에서 컨테이너 간에 사용할 네트워크 모드, 그리고 ECS 클러스터 내에서 사용할 볼륨을 정의할 수 있다.
    - Task Definition은 **버전 관리**가 가능하며, 필요할 때마다 새 버전을 만들어 기존 Task를 업데이트할 수 있다.

### 3. Task vs. Task Definition 비교

| **특징**                 | **Task**                                           | **Task Definition**                                    |
|--------------------------|---------------------------------------------------|--------------------------------------------------------|
| **역할**                 | 실제 컨테이너 실행 단위                           | Task가 실행될 때 필요한 구성을 정의하는 템플릿          |
| **구성**                 | Task Definition에 의해 정의된 컨테이너를 실행     | 컨테이너 이미지, 리소스(CPU, 메모리), 네트워크, 볼륨 등 |
| **실행 시점**            | ECS 클러스터에서 실제로 실행되는 단위             | Task를 실행하기 위한 구체적인 설정                     |
| **변경 가능성**          | Task는 각 실행 인스턴스로 독립적으로 실행됨       | Task Definition은 수정할 수 있으며, 새로운 버전을 배포 가능 |
| **연관성**               | Task는 특정 Task Definition을 기반으로 실행됨     | 여러 Task가 동일한 Task Definition을 기반으로 실행될 수 있음 |

### 4. 사용 사례
- **단일 애플리케이션 실행**: 단일 컨테이너 기반 애플리케이션을 ECS에서 Task로 실행하여 클러스터 내에서 관리할 수 있다.
- **다중 컨테이너 애플리케이션**: 웹 서버와 데이터베이스처럼 상호작용하는 여러 컨테이너를 하나의 Task로 정의하여, ECS에서 동시에 실행하고 관리할 수 있다.
- **Batch 작업**: 일정한 주기나 특정 조건에서 배치 작업을 수행해야 할 때, Task를 사용해 필요한 컨테이너를 배포하고 작업 완료 시 종료할 수 있다.

### 요약:
- **Task**는 ECS에서 하나 이상의 컨테이너를 실행하는 **단위**로, **Task Definition**에 정의된 설정에 따라 실행된다.
- **Task Definition**은 컨테이너 구성, 리소스 요구사항, 네트워크 설정 등을 포함한 템플릿으로, 여러 Task가 이 정의를 기반으로 실행된다.
- Task는 **실행 단위**이고, Task Definition은 **구성 템플릿**으로, ECS 클러스터에서 배포되는 애플리케이션의 컨테이너 구성을 관리하고 실행한다.



---
### Task 를 사용하는 아키텍처 예시

![](images/ECS_arch1.png)
![](images/ECS_arch2.png)
![](images/ECS_arch3.png)
