
## 캐시 서버 사용 전략

### Read-Through Cache

- 개념: 캐시가 데이터베이스와 함께 작동하여, 데이터베이스 조회 요청을 처리하는 방식이다. 데이터가 캐시에 없으면 캐시가 데이터베이스에서 데이터를 조회하여 캐시에 저장하고 클라이언트에 반환한다.
- 장점: 캐시 일관성이 유지되며, 데이터베이스와의 통합이 용이하다.
- 단점:
  - 초기 지연 시간: 캐시에 데이터가 없을 때, 초기 요청이 데이터베이스 조회로 인해 지연될 수 있다.
  - 고가용성 문제: 캐시 시스템에 장애가 발생하면 데이터베이스에 직접 접근해야 하므로, 캐시 시스템의 고가용성을 확보해야 한다.
- 구현 예시:
  - 클라이언트가 데이터를 요청
  - 캐시에서 데이터를 조회
  - 캐시에 데이터가 없으면 캐시가 데이터베이스에서 데이터를 조회하여 캐시에 저장
  - 클라이언트에 데이터를 반환

### Write-Through Cache

- 개념: 데이터가 업데이트될 때마다 캐시와 데이터베이스에 동시에 쓰는 방식이다. 이는 데이터 일관성을 보장한다.
- 장점: 캐시와 데이터베이스의 데이터 일관성을 유지한다.
- 단점:
  - 쓰기 성능 저하: 모든 쓰기 작업이 캐시와 데이터베이스에 동시에 발생하므로, 쓰기 성능이 저하될 수 있다.
  - 캐시 오버헤드: 모든 쓰기 작업이 캐시에도 기록되므로, 캐시 오버헤드가 증가할 수 있다.
- 구현 예시:
  - 클라이언트가 데이터를 업데이트
  - 데이터가 캐시와 데이터베이스에 동시에 저장
  - 읽기 요청 시 최신 데이터가 항상 캐시에 존재

### Write-Behind (Write-Back) Cache

- 개념: 데이터가 캐시에 먼저 쓰이고, 일정 시간이 지난 후 또는 트리거 이벤트에 의해 데이터베이스에 비동기적으로 쓰는 방식이다.
- 장점: 쓰기 성능을 향상시키고, 데이터베이스 부하를 줄인다.
- 단점:
  - 데이터 일관성 문제: 데이터가 캐시에 먼저 저장되므로, 데이터베이스와의 데이터 일관성이 일시적으로 유지되지 않을 수 있다.
  - 데이터 손실 위험: 캐시 서버가 장애를 겪을 경우, 캐시에 있는 데이터가 데이터베이스에 쓰이지 않아 데이터 손실 위험이 있다.
- 구현 예시:
  - 클라이언트가 데이터를 업데이트
  - 데이터가 캐시에 저장되고, 데이터베이스 업데이트는 비동기로 처리
  - 일정 시간 후 또는 특정 조건이 만족되면 데이터베이스에 쓰기 작업 수행

### Cache-Aside (Lazy Loading)

- 개념: 애플리케이션이 캐시를 직접 관리하는 방식이다. 데이터가 캐시에 없으면 애플리케이션이 데이터베이스에서 데이터를 조회하여 캐시에 저장하고 클라이언트에 반환한다. 캐시에 먼저 읽기 요청을 한 뒤 데이터가 없으면 데이터베이스에서 데이터를 가져와 저장한다는 점에서 Read Through 방식과 유사하지만, 데이터베이스에 읽기요청을 하는 주체가 누구냐에 차이가 있다.
- 장점: 캐시와 데이터베이스 간의 결합이 느슨하며, 필요할 때만 데이터를 캐시에 로드
- 단점:
  - 복잡한 구현: 애플리케이션이 캐시 미스 처리를 직접 관리해야 하므로, 코드 복잡성이 증가할 수 있다.
  - 초기 지연 시간: 캐시에 데이터가 없을 때, 데이터베이스 조회로 인해 초기 요청이 지연될 수 있다.
- 구현 예시:
  - 클라이언트가 데이터를 요청
  - 애플리케이션이 캐시에서 데이터를 조회
  - 캐시에 데이터가 없으면 어플리케이션이 데이터베이스에서 데이터를 조회하여 캐시에 저장
  - 클라이언트에 데이터를 반환


### Distributed Caching

- 개념: 여러 캐시 서버를 사용하여 데이터를 분산 저장하는 방식이다. 이는 확장성과 가용성을 높이고, 부하 분산에 유리하다.
- 장점: 높은 가용성과 확장성, 부하 분산
- 단점:
  - 데이터 일관성 문제: 캐시 서버 간 데이터 일관성을 유지하는 것이 복잡할 수 있다.
  - 관리 복잡성: 여러 서버를 관리해야 하므로, 관리 복잡성이 증가할 수 있다.
- 구현 예시:
  - 데이터를 여러 캐시 서버에 분산 저장
  - 클라이언트 요청 시 적절한 캐시 서버에서 데이터를 조회
  - 캐시 서버 간 데이터 일관성을 유지하는 메커니즘 필요

---

## 캐시 무효화 전략
> 캐시 무효화는 캐시의 데이터가 더 이상 유효하지 않거나 최신 데이터와 일치하지 않는 경우 이를 제거하거나 갱신하는 전략을 말한다.

### Time-to-Live (TTL)

- 개념: 캐시된 데이터에 유효 기간을 설정하여, 일정 시간이 지나면 자동으로 캐시에서 제거하는 방식이다.
- 장점: 설정이 간단하며, 정기적으로 데이터를 갱신할 수 있다.
- 단점: 정해진 시간 간격으로 데이터가 제거되므로, 데이터 유효 기간을 잘못 설정하면 비효율적일 수 있다.
- 구현 예시:
  - 데이터 캐싱 시 TTL 값을 설정
  - TTL이 만료되면 데이터가 자동으로 캐시에서 제거

### Cache Invalidation

- 개념: 데이터베이스의 데이터가 변경될 때 캐시를 명시적으로 무효화하는 방식이다.
- 장점: 데이터 일관성을 유지할 수 있다.
- 단점: 캐시 무효화 로직을 애플리케이션에 구현해야 하므로, 코드 복잡성이 증가할 수 있다.
- 구현 예시:
  - 데이터베이스에서 데이터가 업데이트되면 관련 캐시 항목을 삭제
  - 새로운 요청 시 최신 데이터를 다시 캐시

### Least Recently Used (LRU)

- 개념: 가장 오랫동안 사용되지 않은 데이터를 캐시에서 제거하는 방식이다.
- 장점: 자주 사용되는 데이터를 유지하고, 덜 사용되는 데이터를 제거한다.
- 단점: 캐시 사용 패턴을 잘못 이해하면 비효율적일 수 있다.
- 구현 예시:
  - 캐시가 가득 찼을 때 LRU 알고리즘을 사용하여 데이터를 제거