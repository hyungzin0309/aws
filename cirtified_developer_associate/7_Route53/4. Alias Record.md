
> ip 를 가진 AWS 자원에 대한 별칭을 등록하는 record 타입이다. 오직 aws 자원을 대상으로만 지정할 수 있으며, CNAME 과 달리 ip 를 직접 반환한다. 또한 aws 자원의 도메인이 변경되더라도 자동으로 이를 인식하여 반영한다.
<br> TTL 은 직접 설정 불가능하며 Route53 에서 자동으로 설정해준다.

CNAME 과의 자세한 차이점은 다음과 같다.

1. 사용 제한

   - CNAME 레코드: 루트 도메인에는 사용할 수 없으며, 서브 도메인에만 사용할 수 있다.
   - Alias 레코드: 루트 도메인과 서브 도메인 모두에 사용할 수 있다.


2. 지원 대상

   - CNAME 레코드: 표준 DNS 레코드로, 모든 DNS 제공자가 지원한다.
   - Alias 레코드: **AWS Route 53에서만 제공되는** 특수 레코드 유형이다.


3. 작동 방식

    - CNAME 레코드: 다른 도메인 이름으로 리디렉션하며, 리디렉션된 도메인 이름에 대해 새로운 DNS 쿼리가 발생한다.
    - Alias 레코드: 직접 IP 주소를 반환하여 추가적인 DNS 쿼리가 필요 없다.


4. 비용

    - CNAME 레코드: 일반적인 DNS 쿼리 비용이 발생한다.
    - Alias 레코드: 비용이 발생하지 않는다.


---
### 고정된 domain 이름을 가진 어플리케이션 배포

1. ec2 의 ip 에 대해 A 레코드 직접 등록
   1. ec2 를 배포한다.
   2. Route53 에서 호스트 존에 대한 도메인을 구매한 후, 해당 호스트 존 내에서 A 레코드로 ec2 의 ip 를 domain 등록한다.
   3. 이 경우, ec2 의 ip 가 변경될 시 domain 정보를 변경해줘야하는 문제가 발생한다.


2. Alias Record 이용

   1. EC2 를 배포하여 대상그룹에 포함시키고, 앞 단에 ALB 를 배포한다.
   2. Route53 은 aws 가 제공한 ALB 의 domain 을 alias 로 등록한다. 
   3. Route53 은 Alias 를 통해 AWS 자원을 바라보고 있으므로, AWS 자원의 aws domain 이 변경되더라도 이를 자동으로 인식하고 업데이트한다.

### 위 경우, 만약 CNAME 을 사용한다면?

ALB 에 대한 도메인을 Alias 로 등록하는 것이 아닌, CNAME 으로 등록하는 경우에도 특정 도메인을 통해 ALB 에 접근이 가능하다.
그러나, ALB 의 도메인이 변경되어도 이를 감지하지 못하기 때문에 CNAME 의 value 를 다시 설정해야 한다.
또한 CNAME 은 리다이렉트 방식이므로 ALB 에 도달하기 까지 두 번의 DNS 쿼리가 발생한다.